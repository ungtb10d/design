(function(_ds){var window=this;var l0=function(a){a=a.Sa;let b;b='<button type="button" class="devsite-recommendations-dropdown-toggle" id="devsite-recommendations-dropdown-toggle" aria-haspopup="true" aria-controls="recommendations-dropdown-popup"><span>Recommended</span><span class="devsite-icon devsite-recommendations-dropdown-icon"></span></button><ul class="devsite-recommendations-dropdown-list devsite-select-list" role="listbox">';const c=a.length;for(let d=0;d<c;d++)b+=k0(a[d]);return(0,_ds.S)(b+"</ul>")},k0=function(a){let b=
"";const c=[a.getTitle(),_ds.y(a,3),_ds.y(a,4)];b+='<li role="option" class="devsite-select-item"><h3 class="significatio-card-heading no-link"><a href="'+_ds.X(_ds.Y(a.getUrl()))+"?"+_ds.jE(_ds.y(a,8))+'" data-category="Site-Wide Custom Events" data-label="devsite-recommendation card link" data-action="click">'+_ds.T(c.filter(d=>0<(""+_ds.W(d)).length)[0])+'</a></h3><p class="significatio-card-description">'+_ds.T(_ds.UD(_ds.y(a,5)))+'</p><div class="significatio-card-meta">Updated <span class="significatio-date" date="'+
_ds.X(_ds.hc(a,_ds.oD,7).getSeconds())+'"></span></div></li>';return(0,_ds.S)(b)};var m0=function(a){let b;null==(b=a.toggle)||b.classList.remove("active");let c;null==(c=a.o)||c.classList.remove("active")},n0=function(a){a.toggle&&a.eventHandler.listen(a.toggle,"click",()=>{var b;if(null==(b=a.toggle)?0:b.classList.contains("active"))m0(a);else{let d;null==(d=a.toggle)||d.classList.add("active");let e;null==(e=a.o)||e.classList.add("active");if(!a.C){a.C=!0;var c;if(b=null==(c=a.h)?void 0:_ds.TL(c)){for(const f of b)if(c=_ds.hc(f,_ds.Wq,10))c={targetPage:f.getUrl(),targetType:_ds.Le(c,
3),targetRank:_ds.Xe(c,2),targetIdenticalDescriptions:_ds.Xe(c,4),targetTitleWords:_ds.Xe(c,5),targetDescriptionWords:_ds.Xe(c,6),experiment:_ds.y(c,7)},b={category:"Site-Wide Custom Events",action:"recommended",label:f.getUrl(),nonInteraction:!0,additionalParams:{recommendations:c}},a.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:b,bubbles:!0})),c={eventData:JSON.stringify({type:"recommendations",name:"impression",metadata:c})},a.dispatchEvent(new CustomEvent("devsite-analytics-observation-cloudtrack",
{detail:c,bubbles:!0}));a.v.g()}else a.v.j("empty")}}});a.eventHandler.listen(document,"click",b=>{let c;!a.contains(b.target)&&(null==(c=a.toggle)?0:c.classList.contains("active"))&&m0(a)})},o0=class extends _ds.F{constructor(a){super();this.timeZone=a;this.eventHandler=new _ds.H(this);this.toggle=this.o=null;this.g=new _ds.Kk;this.loaded=this.g.promise;this.v=new _ds.Kk;this.C=!1;this.h=null}connectedCallback(){this.eventHandler.listen(document,"devsite-on-recommendations",a=>{a=a.Z;!this.h&&a&&
a.detail&&(2===_ds.Le(a.detail,5)&&(a=a.detail,this.render(a),this.o=this.querySelector(".devsite-recommendations-dropdown-list"),this.toggle=this.querySelector(".devsite-recommendations-dropdown-toggle"),n0(this),this.h=a),this.g.g())})}disconnectedCallback(){_ds.I(this.eventHandler);this.g.j("Disconnected")}render(a){if(this.isConnected){_ds.N(this,l0,{Sa:_ds.TL(a)});a=Array.from(this.querySelectorAll(".significatio-date"));for(const b of a){a=b.getAttribute("date");try{b.textContent=(new Date(1E3*
Number(a))).toLocaleDateString("default",{month:"short",year:"numeric",day:"numeric",timeZone:this.timeZone})}catch(c){}}}}};try{window.customElements.define("devsite-recommendations-dropdown",o0)}catch(a){console.warn("Unrecognized DevSite custom element - DevsiteRecommendationsDropdown",a)};})(_ds_www);
